%YAML 1.1
---

netzwerk:      

    qnap_ts251:

        cpu_temp:
            name: CPU-Temperatur in °C
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.5.0'
            snmp_prop@ts251: 'value'
            # 34 C/93 F
            # eval: float(value[:2])
            database: init
            database_maxage: 100
            
        cpu_usage:
            name: CPU-Auslastung [0-1]
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.1.0'
            snmp_prop@ts251: 'value'
            database: init
            database_maxage: 100
            
            avg_5min:
                type: num
                visu_acl: ro
                # eval: round(sh...db('avg', '5i' ) ,2)
                # cycle: 300
                # database: init
            
            avg_15min:
                type: num
                visu_acl: ro
                # eval: round(sh...db('avg', '15i' ) ,2)
                # cycle: 900
                # database: init
            
        system_temp:
            name: SystemTemperatur in °C
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.6.0'
            snmp_prop@ts251: 'value'
            database: init
            database_maxage: 100
            
        ram_size:
            name: RAM in MB
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.2.0'
            snmp_prop@ts251: 'value'
            # 3839.9 MB
            # eval: float(value[:-3])
            
        ram_free:
            name: freier RAM in MB
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.3.0'
            snmp_prop@ts251: 'value'
            # 2785.5 MB
            # eval: float(value[:-3])
            
        ram_usage:
            name: RAM belegt [0-1]
            type: num
            eval: round((sh...ram_size() - sh...ram_free()) / sh...ram_size(), 3) if sh...ram_size() != 0 else 0
            eval_trigger:
              - ..ram_size
              - ..ram_free
            database: init
            database_maxage: 100

        hdd1_temp:
            name: HDD1 Temperatur in °C
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.11.1.3.1'
            snmp_prop@ts251: 'value'
            database: init
            database_maxage: 100
            
        hdd2_temp:
            name: HDD2 Temperatur in °C
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.11.1.3.2'
            snmp_prop@ts251: 'value'
            database: init
            database_maxage: 100
        
        hdd1_status:
            name: HDD1 Status
            type: str
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.11.1.7.1'
            snmp_prop@ts251: 'string'
            database: init
            database_maxage: 100
            
        hdd2_status:
            name: HDD2 Status
            type: str
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.11.1.7.2'
            snmp_prop@ts251: 'string'
            database: init
            database_maxage: 100
            
        fan_rpm:
            name: Lüfterdrehzahl in rpm
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.15.1.3.1'
            snmp_prop@ts251: 'value'
            # 1163 RPM
            # eval: float(value[:-4])
            
        # fan_count:
            # name: Anzahl der Lüfter
            # type: num
            # snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.14.0'
            # 1
            # eval: float(value)
        
        disk_size:
            name: Speicher in MB
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.17.1.4.1'
            snmp_prop@ts251: 'value'
            # 1.37 TB
            # eval: float(value[:-3]) * 1024
        
        disk_free:
            name: Freier Speicher in MB
            type: num
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.17.1.5.1'
            snmp_prop@ts251: 'value'
            # 1.37 TB
            # eval: float(value[:-3]) * 1024
            
        disk_usage:
            name: HDD belegt [0-1]
            type: num
            eval: round((sh...disk_size() - sh...disk_free()) / sh...disk_size(), 3) if sh...disk_size() != 0 else 0
            eval_trigger:
              - ..disk_free
              - ..disk_size
            database: init
            database_maxage: 100

        # volume_count:
            # type: num
            # snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.16.0'
            # 1
            # eval: float(value)

        volume1_status:
            name: Status des Volume1
            type: str
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.17.1.6.1'
            snmp_prop@ts251: 'string'
            # Ready
            # eval: str(value)
        
        netuptime:
            type: str
            snmp_oid@ts251: '1.3.6.1.2.1.1.3.0'
            snmp_prop@ts251: 'string'
            # 9311124
            # eval: float(value)
        
        sysuptime:
            type: str
            snmp_oid@ts251: '1.3.6.1.2.1.25.1.1.0'
            snmp_prop@ts251: 'string'
            # 68919188
            # eval: float(value)
        
        model:
            type: str
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.12.0'
            snmp_prop@ts251: 'string'
            #TS-251
            #eval: str(value)
        
        name:
            type: str
            snmp_oid@ts251: '1.3.6.1.4.1.24681.1.2.13.0'
            snmp_prop@ts251: 'string'
            # 0x4e41532d54533235310a | NAS-TS251
        
        firmware:
            type: str
            snmp_oid@ts251: '1.3.6.1.2.1.47.1.1.1.1.9.1'
            snmp_prop@ts251: 'string'
            # 0x342e332e360a | 4.3.6
            online:
                type: bool
                name: NAS ist Online
                eval: value != '$$!!%%'
                eval_trigger: ..
                autotimer: 10m = '$$!!%%' = compat_1.2
                on_update:
                  - ... = 'Online' if value == 1 else None
                  - ... = 'Offline' if value == 0 else None
            
    rpi_1:

        ram_in_machine:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.5.0'
            snmp_prop@rpi_1: 'value'
            
        ram_used:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.6.0'
            snmp_prop@rpi_1: 'value'
            
        ram_free:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.11.0'
            snmp_prop@rpi_1: 'value'
            
        ram_shared:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.13.0'
            snmp_prop@rpi_1: 'value'
            
        ram_buffered:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.14.0'
            snmp_prop@rpi_1: 'value'
            
        ram_cached:
            name: Ram Size
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.4.15.0'
            snmp_prop@rpi_1: 'value'
            
        cpu_usage_1min:
            name: CPU-Auslastung der letzten Minute [0-1]
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.10.1.3.1'
            snmp_prop@rpi_1: 'value'
            
        cpu_usage_5min:
            name: CPU-Auslastung der letzten Minute [0-1]
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.10.1.3.2'
            snmp_prop@rpi_1: 'value'
            
        cpu_usage_15min:
            name: CPU-Auslastung der letzten Minute [0-1]
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.10.1.3.3'
            snmp_prop@rpi_1: 'value'
            
        system_uptime:
            name: System Uptime
            type: str
            snmp_oid@rpi_1: '1.3.6.1.2.1.1.3.0'
            snmp_prop@rpi_1: 'string'
            
        disk_size_total:
            name: Total size of the disk/partion (kBytes)
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.9.1.6.1'
            snmp_prop@rpi_1: 'value'
        
        disk_size_available:
            name: Available space on the disk
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.9.1.7.1'
            snmp_prop@rpi_1: 'value'
        
        disk_size_used:
            name: Used space on the disk
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.9.1.8.1'
            snmp_prop@rpi_1: 'value'
        
        disk_size_space_percent:
            name: Percentage of space used on disk
            type: num
            snmp_oid@rpi_1: '1.3.6.1.4.1.2021.9.1.9.1'
            snmp_prop@rpi_1: 'value'
            
        cpu_temp:
            name: Temperatur CPU
            type: num
            snmp_oid@rpi_1: '1.3.6.1.2.1.25.1.8'
            snmp_prop@rpi_1: 'value'

    printer:
        # allgemein:
            # OID_RAW_DATA:
                # name: OID_RAW_DATA
                # type: str
                # snmp_oid@printer: '1.3.6.1.2.1.43.18.1.1'
                # snmp_prop@printer: 'string'
                
            # OID_CONSOLE_DATA:
                # name: OID_CONSOLE_DATA
                # type: str
                # snmp_oid@printer: '1.3.6.1.2.1.43.16'
                # snmp_prop@printer: 'string'
                
            # OID_CONTACT:
                # name: OID_CONTACT
                # type: str
                # snmp_oid@printer: '1.3.6.1.2.1.1.4.0'
                # snmp_prop@printer: 'string'
                
            # OID_LOCATION:
                # name: OID_LOCATION
                # type: str
                # snmp_oid@printer: '1.3.6.1.2.1.1.6.0'
                # snmp_prop@printer: 'string'
            
        basisdaten:
            manufacturer:
                name: Hersteller
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.8.2.1.14.1.1'
                snmp_prop@printer: 'string'
                
            seriennummer:
                name: OID_SERIAL_NUMBER
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.5.1.1.17.1'
                snmp_prop@printer: 'string'
                
            systembeschreibung:
                name: OID_SYSTEM_DESCRIPTION
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.1.1.0'
                snmp_prop@printer: 'string'
                
            systembeschreibung1:
                name: OID_SYSTEM_DESCRIPTION
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.25.3.2.1.3.1'
                snmp_prop@printer: 'string'
                
            geraetestatus:
                name: OID_DEVICE_STATE
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.25.3.2.1.5.1'
                snmp_prop@printer: 'value'
                
            geraetestatus_str:
                name: OID_DEVICE_STATE
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.16.5.1.2.1.1'
                snmp_prop@printer: 'string'
                
            status:
                name: 1
                remark: 1-Other, 2-Unknown, 3-Idle, 4-Printing, 5-Warming Up
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.25.3.5.1.1.1'
                snmp_prop@printer: 'value'
                
            error_state:
                name: 1
                remark:
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.25.3.5.1.2.1'
                snmp_prop@printer: 'hex-string'
                
            geraetefehler:
                name: OID_DEVICE_ERRORS
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.25.3.2.1.5.1'
                snmp_prop@printer: 'string'
                
            uptime:
                name: OID_UPTIME
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.1.3.0'
                snmp_prop@printer: 'string'
                
            speichergroesse:
                name: OID_MEMORY_SIZE
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.25.2.2.0'
                snmp_prop@printer: 'value'
                
            seitenzahl:
                name: OID_PAGE_COUNT
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.10.2.1.4.1.1'
                snmp_prop@printer: 'value'
                
            hardware_adresse:
                name: OID_HARDWARE_ADDRESS
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.2.2.1.6.1'
                snmp_prop@printer: 'hex-string'
                
            ip_adress:
                name: IP-Adresse
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.4.20.1.1.192.168.2.150'
                snmp_prop@printer: 'ip-adress'
                
        papierfach:
            fach1_name:
                name: OID_TRAY_1_NAME
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.8.2.1.13.1.1'
                snmp_prop@printer: 'string'
                
            fach1_kapa:
                name: OID_TRAY_1_NAME
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.8.2.1.9.1.1'
                snmp_prop@printer: 'value'
                
        toner:
            kartusche_schwarz_name:
                name: OID_BLACK_TONER_CARTRIDGE_NAME
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.6.1.1'
                snmp_prop@printer: 'string'
                
            kartusche_schwarz_kapa:
                name: OID_BLACK_TONER_CARTRIDGE_CAPACITY
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.8.1.1'
                snmp_prop@printer: 'value'
                
            kartusche_schwarz_rest:
                name: OID_BLACK_TONER_CARTRIDGE_LEVEL
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.9.1.1'
                snmp_prop@printer: 'value'
                
            kartusche_schwarz_level:
                name: Füllmenge Toner schwarz
                type: num
                eval: round(sh...kartusche_schwarz_rest() / sh...kartusche_schwarz_kapa(), 2) if sh...kartusche_schwarz_rest() + sh...kartusche_schwarz_kapa() > 0 else 0
                eval_trigger:
                  - ..kartusche_schwarz_kapa
                  - ..kartusche_schwarz_rest
                  
            transfer_rolle_name:
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.6.1.2'
                snmp_prop@printer: 'string'
                
            transfer_rolle_kapa:
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.8.1.2'
                snmp_prop@printer: 'value'
                
            transfer_rolle_rest:
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.9.1.2'
                snmp_prop@printer: 'value'
                
            transfer_rolle_level:
                type: num
                eval: round(sh...transfer_rolle_rest() / sh...transfer_rolle_kapa(), 2) if sh...transfer_rolle_rest() + sh...transfer_rolle_kapa() > 0 else 0
                eval_trigger:
                  - ..transfer_rolle_rest
                  - ..transfer_rolle_kapa
                  
            adf_roller_name:
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.6.1.5'
                snmp_prop@printer: 'string'
                
            adf_roller_kapa:
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.8.1.5'
                snmp_prop@printer: 'value'
                
            adf_roller_rest:
                name: OID_BELT_UNIT_LEVEL
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.9.1.5'
                snmp_prop@printer: 'value'
                
            adf_roller_level:
                type: num
                eval: round(sh...adf_roller_rest() / sh...adf_roller_kapa(), 2) if sh...adf_roller_rest() + sh...adf_roller_kapa() > 0 else 0
                eval_trigger:
                  - ..adf_roller_rest
                  - ..adf_roller_kapa
                  
            bandeinheit_name:
                name: OID_BELT_UNIT_NAME
                type: str
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.6.1.6'
                snmp_prop@printer: 'string'
                
            bandeinheit_kapa:
                name: OID_BELT_UNIT_CAPACITY
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.8.1.6'
                snmp_prop@printer: 'value'
                
            bandeinheit_rest:
                name: OID_BELT_UNIT_LEVEL
                type: num
                snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.9.1.6'
                snmp_prop@printer: 'value'
                
            bandeinheit_level:
                name: Füllmenge Toner schwarz
                type: num
                eval: round(sh...bandeinheit_rest() / sh...bandeinheit_kapa(), 2) if sh...bandeinheit_rest() + sh...bandeinheit_kapa() > 0 else 0
                eval_trigger:
                  - ..bandeinheit_rest
                  - ..bandeinheit_kapa
                
            # trommel_schwarz_name:
                # name: OID_BLACK_DRUM_UNIT_NAME
                # type: str
                # snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.6.1.7'
                # snmp_prop@printer: 'string'
                
            # trommel_schwarz_kapa:
                # name: OID_BLACK_DRUM_UNIT_CAPACITY
                # type: num
                # snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.8.1.7'
                # snmp_prop@printer: 'value'
                
            # trommel_schwarz_rest:
                # name: OID_BLACK_DRUM_UNIT_LEVEL
                # type: num
                # snmp_oid@printer: '1.3.6.1.2.1.43.11.1.1.9.1.7'
                # snmp_prop@printer: 'value' 

